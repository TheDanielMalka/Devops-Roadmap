<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DevOps Kahoot - Sprint 2 Topics</title>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;700;900&display=swap" rel="stylesheet">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Heebo', sans-serif;
  background: #0a0a1a;
  color: #fff;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
.container { max-width: 720px; width: 95%; padding: 20px; }
.start-screen, .end-screen { text-align: center; animation: fadeIn 0.5s; }
.start-screen h1 {
  font-size: 2.5rem; font-weight: 900;
  background: linear-gradient(135deg, #00b4d8, #e63946);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  margin-bottom: 8px;
}
.start-screen .subtitle { color: #00b4d8; font-weight: 700; font-size: 1.2rem; margin-bottom: 5px; }
.start-screen p { color: #666; font-size: 1rem; margin-bottom: 30px; }
.start-btn, .restart-btn {
  background: linear-gradient(135deg, #00b4d8, #0077b6);
  border: none; color: #fff; padding: 16px 50px; font-size: 1.3rem;
  font-family: 'Heebo', sans-serif; font-weight: 700; border-radius: 12px;
  cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;
}
.start-btn:hover, .restart-btn:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(0,180,216,0.4); }
.quiz-area { animation: fadeIn 0.3s; }
.progress-bar { background: #1a1a2e; border-radius: 20px; height: 10px; margin-bottom: 15px; overflow: hidden; }
.progress-fill { background: linear-gradient(90deg, #00b4d8, #e63946); height: 100%; border-radius: 20px; transition: width 0.4s ease; }
.stats { display: flex; justify-content: space-between; margin-bottom: 20px; font-size: 0.9rem; color: #888; }
.stats .score { color: #2a9d8f; font-weight: 700; }
.stats .section { color: #00b4d8; font-weight: 700; font-size: 0.8rem; }
.question-card { background: #111128; border-radius: 16px; padding: 28px; margin-bottom: 20px; border: 1px solid #252550; }
.question-num { color: #e63946; font-weight: 700; font-size: 0.85rem; margin-bottom: 8px; }
.question-text { font-size: 1.1rem; font-weight: 700; line-height: 1.6; direction: ltr; text-align: left; }
.options { display: flex; flex-direction: column; gap: 10px; }
.option-btn {
  background: #111128; border: 2px solid #252550; color: #fff; padding: 15px 18px;
  font-size: 0.95rem; font-family: 'Heebo', sans-serif; border-radius: 12px; cursor: pointer;
  text-align: left; direction: ltr; transition: all 0.2s; display: flex; align-items: center; gap: 12px;
}
.option-btn:hover:not(.disabled) { border-color: #00b4d8; background: #151535; transform: translateX(-4px); }
.option-letter {
  background: #252550; width: 32px; height: 32px; border-radius: 8px;
  display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem; flex-shrink: 0;
}
.option-btn.correct { border-color: #2a9d8f; background: rgba(42,157,143,0.12); }
.option-btn.correct .option-letter { background: #2a9d8f; color: #0a0a1a; }
.option-btn.wrong { border-color: #e63946; background: rgba(230,57,70,0.12); }
.option-btn.wrong .option-letter { background: #e63946; }
.option-btn.disabled { cursor: default; opacity: 0.5; }
.option-btn.disabled.correct, .option-btn.disabled.wrong { opacity: 1; }
.feedback { text-align: center; margin-top: 16px; font-weight: 700; font-size: 1.1rem; min-height: 30px; }
.feedback.correct-fb { color: #2a9d8f; }
.feedback.wrong-fb { color: #e63946; }
.next-btn {
  display: none; margin: 16px auto 0; background: #252550; border: none; color: #fff;
  padding: 12px 40px; font-size: 1rem; font-family: 'Heebo', sans-serif; font-weight: 700;
  border-radius: 10px; cursor: pointer; transition: background 0.2s;
}
.next-btn:hover { background: #353570; }
.end-screen h2 { font-size: 2rem; font-weight: 900; margin-bottom: 10px; }
.end-score { font-size: 4rem; font-weight: 900; margin: 20px 0; }
.end-score.great { color: #2a9d8f; }
.end-score.ok { color: #e9c46a; }
.end-score.bad { color: #e63946; }
.end-msg { color: #888; font-size: 1.1rem; margin-bottom: 30px; }
.wrong-list {
  text-align: left; direction: ltr; background: #111128; border-radius: 12px;
  padding: 20px; margin: 20px 0; max-height: 400px; overflow-y: auto;
}
.wrong-list h3 { color: #e63946; margin-bottom: 10px; }
.wrong-item { padding: 8px 0; border-bottom: 1px solid #252550; font-size: 0.85rem; line-height: 1.5; }
.wrong-item:last-child { border: none; }
.wrong-item strong { color: #2a9d8f; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>
<div class="container" id="app">
  <div class="start-screen" id="startScreen">
    <h1>Sprint 2 Kahoot</h1>
    <div class="subtitle">Logs, Network, FHS, Permissions, Storage</div>
    <p>50 שאלות על כל מה שלמדנו היום<br>רמה בינונית עד קשה</p>
    <button class="start-btn" onclick="startQuiz()">יאללה!</button>
  </div>
</div>
<script>
const questions = [
  // === SYSTEM LOGS (12) ===
  {q:"Which log file records all login attempts and sudo usage?",
   o:["syslog","kern.log","auth.log","dmesg"], a:2},

  {q:"A service called nginx failed to start. Which log do you check first?",
   o:["auth.log","kern.log","syslog","dmesg"], a:2},

  {q:"What does 'tail -f /var/log/syslog' do?",
   o:["Shows first 10 lines of syslog","Shows last 10 lines and exits","Follows new lines in real-time as they are written","Filters syslog for errors only"], a:2},

  {q:"kern.log contains messages from which component?",
   o:["User applications","System services and daemons","The kernel - hardware, drivers, memory","Network connections only"], a:2},

  {q:"Someone tried to SSH into your server and failed. Where do you see it?",
   o:["syslog","auth.log","kern.log","boot.log"], a:1},

  {q:"What does 'tail -20 /var/log/syslog' show?",
   o:["The first 20 lines of the file","20 random lines from the file","Lines containing the number 20","The last 20 lines of the file"], a:3},

  {q:"A disk is not being detected by the system. Which log is most relevant?",
   o:["auth.log","syslog","kern.log","cron.log"], a:2},

  {q:"What does dmesg contain?",
   o:["Daily email messages","DNS message logs","Boot and hardware detection messages","Docker container messages"], a:2},

  {q:"In a syslog line, what comes after the timestamp and hostname?",
   o:["The user who caused the event","The log level (INFO/WARNING)","The service or process name","The file path that was affected"], a:2},

  {q:"A cron job didn't run at the scheduled time. Where would you find evidence?",
   o:["auth.log","kern.log","syslog","dmesg"], a:2},

  {q:"What type of events does auth.log NOT track?",
   o:["Failed SSH logins","Successful sudo commands","Disk hardware errors","User session open/close"], a:2},

  {q:"You see 'session opened for user dunelz' in a log. Which log is this from?",
   o:["kern.log","syslog","dmesg","auth.log"], a:3},

  // === JOURNALCTL (8) ===
  {q:"What is the main advantage of journalctl over reading /var/log/syslog directly?",
   o:["journalctl is faster to type","journalctl has built-in filtering by service, time, and severity","journalctl shows more detailed information","journalctl works without root"], a:1},

  {q:"'journalctl -u ssh' does what?",
   o:["Uninstalls the SSH service","Shows logs only from the SSH service","Updates SSH configuration","Uploads SSH logs to remote server"], a:1},

  {q:"How do you see only error-level messages with journalctl?",
   o:["journalctl -e","journalctl --errors","journalctl -p err","journalctl -f err"], a:2},

  {q:"'journalctl -k' shows the same information as which log file?",
   o:["auth.log","syslog","kern.log","cron.log"], a:2},

  {q:"'journalctl --since \"1 hour ago\"' filters logs by what?",
   o:["Service name","Log severity level","Time period","Process ID"], a:2},

  {q:"What does 'journalctl -n 15' do?",
   o:["Shows logs from the last 15 minutes","Shows the last 15 log entries","Shows logs from 15 services","Skips the first 15 entries"], a:1},

  {q:"journalctl stores its data in what format?",
   o:["Plain text files like syslog","Binary structured format with indexing","CSV files","JSON files"], a:1},

  {q:"You want to see real-time logs from docker service. Which command?",
   o:["tail -f /var/log/docker","journalctl -u docker -f","journalctl --docker --live","cat /var/log/docker.log"], a:1},

  // === NETWORK MONITORING (8) ===
  {q:"What does iftop show that nload doesn't?",
   o:["Total bandwidth usage","Which specific connections are using bandwidth","Network interface name","Packet loss percentage"], a:1},

  {q:"'sudo iftop -t -s 5' - what does '-t' mean?",
   o:["Timer mode for 5 seconds","Text mode instead of graphical interface","TCP connections only","Top connections only"], a:1},

  {q:"nload shows 'Incoming: 5.2 Mbit/s'. What does this mean?",
   o:["5.2 megabytes uploaded","5.2 megabits per second being downloaded","5.2 messages received","5.2 megabytes total since boot"], a:1},

  {q:"A server is slow and you suspect network issues. Which tool shows per-connection bandwidth?",
   o:["nload","df -h","iftop","top"], a:2},

  {q:"What does 'Ttl' mean in nload output?",
   o:["Time to live","Total traffic since monitoring started","Title of the interface","Timeout limit"], a:1},

  {q:"nload shows Incoming and Outgoing. What do these represent?",
   o:["Disk read and write speeds","Download and upload network traffic","Input and output of a process","Requests sent and received by a web server"], a:1},

  {q:"You suspect a DDoS attack on your server. Which tool helps identify the source?",
   o:["nload - shows total bandwidth spike","iftop - shows which IPs are sending traffic","df -h - shows disk impact","top - shows CPU usage"], a:1},

  {q:"What does iftop need that nload doesn't?",
   o:["Network connection","Root/sudo privileges to capture packets","A configuration file","Python installed"], a:1},

  // === FHS (10) ===
  {q:"Where are all system configuration files stored?",
   o:["/config","/sys","/etc","/var"], a:2},

  {q:"What is stored in /var/log/?",
   o:["Variable-length source code","System log files","Temporary variables","User home directories"], a:1},

  {q:"A user's home directory is typically located at:",
   o:["/root/username","/usr/username","/home/username","/users/username"], a:2},

  {q:"/tmp directory is special because:",
   o:["It stores temporary backups permanently","Files there are encrypted automatically","Contents are cleared on reboot","Only root can write to it"], a:2},

  {q:"Where does root user's home directory live?",
   o:["/home/root","/root","/admin","/usr/root"], a:1},

  {q:"What is /proc?",
   o:["Process configuration files","Real files about running processes","Virtual filesystem showing live kernel and process info","Procedure scripts for system startup"], a:2},

  {q:"/bin contains basic commands. What is /sbin for?",
   o:["Secure binary backups","System commands that need root privileges","Shared binary libraries","Secondary user commands"], a:1},

  {q:"Where do you typically mount external drives in Linux?",
   o:["/dev","/mnt or /media","/opt","/srv"], a:1},

  {q:"What does /opt store?",
   o:["Operating system core files","Optional third-party software installed manually","Optimization settings","Output logs from services"], a:1},

  {q:"/dev contains files that represent:",
   o:["Developer tools and IDEs","System documentation","Hardware devices (disks, USB, terminals)","Development environment configs"], a:2},

  // === SPECIAL PERMISSIONS (7) ===
  {q:"You see '-rwsr-xr-x' on a file. What does the 's' mean?",
   o:["The file is a system file","The file is shared across users","SUID - runs with owner's permissions when executed","SGID - inherits group permissions"], a:2},

  {q:"Why does /usr/bin/passwd need SUID?",
   o:["Because it's a system binary","Because it needs to read /etc/passwd which is public","Because it needs root access to write to /etc/shadow","Because multiple users share the same password"], a:2},

  {q:"You see 'drwxrwxrwt' on /tmp. What does the 't' do?",
   o:["Makes files temporary and auto-deleted","Only file owners can delete their own files","Tracks all file changes","Gives everyone full permissions"], a:1},

  {q:"SGID on a directory means:",
   o:["Files created inside inherit the directory's group","Files are encrypted with group key","Only the group owner can enter","The directory is shared via network"], a:0},

  {q:"Without Sticky Bit on /tmp, what could happen?",
   o:["Nobody could create files","Files would be read-only","Any user could delete anyone else's files","The directory would fill up faster"], a:2},

  {q:"SUID gives temporary elevated permissions. When do they end?",
   o:["After 60 seconds","When the user logs out","When the command finishes executing","When root revokes them manually"], a:2},

  {q:"Which permission is a security risk if set on the wrong file?",
   o:["Read permission for group","SUID on a shell or editor","Sticky Bit on home directory","Execute permission for others"], a:1},

  // === MOUNTING & STORAGE (5) ===
  {q:"What does 'lsblk' show?",
   o:["List of blocked processes","List of all disks, partitions and their mount points","List of block-level firewall rules","List of backed up files"], a:1},

  {q:"'df -h' shows 'Use% 61%' for /mnt/c. What does this mean?",
   o:["61% of files are compressed","The disk mounted at /mnt/c is 61% full","61% of operations failed","The mount point has 61% uptime"], a:1},

  {q:"In Linux, to access a new disk you must first:",
   o:["Format it with NTFS","Assign it a drive letter","Mount it to a directory","Register it in /etc/passwd"], a:2},

  {q:"What is tmpfs?",
   o:["A temporary file system stored on disk","RAM being used as a filesystem - fast but gone on reboot","A compressed filesystem format","Temporary FTP storage"], a:1},

  {q:"SWAP space is used when:",
   o:["The disk is full","The CPU is overloaded","RAM is full and the system moves inactive data to disk","The network connection drops"], a:2},
];

let current = 0, score = 0, wrongAnswers = [], startTime;

function getSection(idx) {
  if (idx < 12) return "System Logs";
  if (idx < 20) return "Journalctl";
  if (idx < 28) return "Network Monitoring";
  if (idx < 38) return "FHS";
  if (idx < 45) return "Special Permissions";
  return "Mounting & Storage";
}

function startQuiz() {
  startTime = Date.now();
  document.getElementById('startScreen').style.display = 'none';
  showQuestion();
}

function showQuestion() {
  const q = questions[current];
  const pct = ((current) / questions.length * 100).toFixed(0);
  const section = getSection(current);
  document.getElementById('app').innerHTML = `
    <div class="quiz-area">
      <div class="progress-bar"><div class="progress-fill" style="width:${pct}%"></div></div>
      <div class="stats">
        <span>שאלה ${current+1} מתוך ${questions.length}</span>
        <span class="section">${section}</span>
        <span class="score">${score} נכונות</span>
      </div>
      <div class="question-card">
        <div class="question-num">Question ${current+1} — ${section}</div>
        <div class="question-text">${q.q}</div>
      </div>
      <div class="options">
        ${q.o.map((opt, i) => `
          <button class="option-btn" onclick="answer(${i})">
            <span class="option-letter">${String.fromCharCode(65+i)}</span>
            <span>${opt}</span>
          </button>
        `).join('')}
      </div>
      <div class="feedback" id="feedback"></div>
      <button class="next-btn" id="nextBtn" onclick="nextQuestion()">הבא →</button>
    </div>
  `;
}

function answer(idx) {
  const q = questions[current];
  const btns = document.querySelectorAll('.option-btn');
  btns.forEach((btn, i) => {
    btn.classList.add('disabled');
    btn.onclick = null;
    if (i === q.a) btn.classList.add('correct');
    if (i === idx && idx !== q.a) btn.classList.add('wrong');
  });
  const fb = document.getElementById('feedback');
  if (idx === q.a) {
    score++;
    fb.textContent = '✓ נכון!';
    fb.className = 'feedback correct-fb';
  } else {
    fb.textContent = '✗ לא נכון! התשובה: ' + q.o[q.a];
    fb.className = 'feedback wrong-fb';
    wrongAnswers.push({num: current+1, q: q.q, correct: q.o[q.a], section: getSection(current)});
  }
  document.getElementById('nextBtn').style.display = 'block';
}

function nextQuestion() {
  current++;
  if (current < questions.length) showQuestion();
  else showEnd();
}

function showEnd() {
  const elapsed = Math.round((Date.now() - startTime) / 1000);
  const mins = Math.floor(elapsed / 60);
  const secs = elapsed % 60;
  const pct = Math.round(score / questions.length * 100);
  let cls = pct >= 80 ? 'great' : pct >= 60 ? 'ok' : 'bad';
  let msg = pct >= 95 ? 'מכונה! שליטה מוחלטת' : pct >= 85 ? 'מעולה! שליטה חזקה' : pct >= 75 ? 'טוב מאוד, כמה דברים לחזק' : pct >= 60 ? 'בסיס טוב, צריך חזרה' : 'צריך לחזור על החומר';

  let sectionStats = {};
  questions.forEach((q, i) => {
    let s = getSection(i);
    if (!sectionStats[s]) sectionStats[s] = {total: 0, wrong: 0};
    sectionStats[s].total++;
  });
  wrongAnswers.forEach(w => { sectionStats[w.section].wrong++; });

  let statsHTML = Object.entries(sectionStats).map(([name, data]) => {
    let correct = data.total - data.wrong;
    let p = Math.round(correct / data.total * 100);
    let color = p >= 80 ? '#2a9d8f' : p >= 60 ? '#e9c46a' : '#e63946';
    return `<div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #252550;font-size:0.9rem;">
      <span style="direction:ltr">${name}</span>
      <span style="color:${color};font-weight:700">${correct}/${data.total}</span>
    </div>`;
  }).join('');

  let wrongHTML = '';
  if (wrongAnswers.length > 0) {
    wrongHTML = `<div class="wrong-list"><h3>Mistakes to review:</h3>${wrongAnswers.map(w =>
      `<div class="wrong-item"><span style="color:#00b4d8">[${w.section}]</span> #${w.num}: ${w.q}<br><strong>Answer: ${w.correct}</strong></div>`
    ).join('')}</div>`;
  }

  document.getElementById('app').innerHTML = `
    <div class="end-screen">
      <h2>סיימת!</h2>
      <div class="end-score ${cls}">${score}/${questions.length}</div>
      <div class="end-msg">${pct}% - ${msg}</div>
      <div style="color:#00b4d8;margin-bottom:20px;">⏱ ${mins}:${secs.toString().padStart(2,'0')} דקות</div>
      <div style="background:#111128;border-radius:12px;padding:16px;margin-bottom:20px;direction:ltr;">
        <h3 style="color:#00b4d8;margin-bottom:10px;text-align:center;">Score by Section</h3>
        ${statsHTML}
      </div>
      ${wrongHTML}
      <button class="restart-btn" onclick="location.reload()">נסה שוב</button>
    </div>
  `;
}
</script>
</body>
</html>
